# AEGIS v3.0 - Development Plan (개발 계획)

*Version: 1.0*
*Last Updated: 2025-12-08*

---

## 1. 아키텍처 전환 개요

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      🚀 AEGIS v3.0 ARCHITECTURE UPGRADE                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [현재 v2.x]                        [목표 v3.0]                             │
│                                                                              │
│  ┌─────────────┐                   ┌─────────────┐                         │
│  │  Streamlit  │                   │   Next.js   │  ← 프론트엔드           │
│  │  (모놀리식) │                   │  (React)    │                         │
│  └──────┬──────┘                   └──────┬──────┘                         │
│         │                                 │                                 │
│         │                          ┌──────┴──────┐                         │
│         │                          │   FastAPI   │  ← 백엔드 API           │
│         │                          │  (Python)   │                         │
│         │                          └──────┬──────┘                         │
│         │                                 │                                 │
│  ┌──────┴──────┐                   ┌──────┴──────┐                         │
│  │ PostgreSQL  │        →          │ PostgreSQL  │                         │
│  │  (일반)     │                   │ +TimescaleDB│  ← 시계열 최적화         │
│  └─────────────┘                   └─────────────┘                         │
│                                                                              │
│  문제점:                            해결:                                   │
│  • 데이터 많으면 버벅거림           • 수천만 건도 쾌적                       │
│  • 실시간 업데이트 어려움           • WebSocket 실시간                       │
│  • UI 커스터마이징 제한             • 완전한 UI 자유도                       │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 기술 스택 결정

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      📚 TECHNOLOGY STACK                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [Database Layer]                                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  PostgreSQL 15 + TimescaleDB Extension                              │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  • Hypertable: 시계열 데이터 자동 파티셔닝                          │    │
│  │  • Continuous Aggregates: 실시간 집계 뷰                            │    │
│  │  • Compression: 오래된 데이터 자동 압축                             │    │
│  │  • Data Retention: 자동 데이터 삭제 정책                            │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  [Backend Layer]                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Python FastAPI (Async)                                             │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  • SQLAlchemy Async: 비동기 DB 처리                                 │    │
│  │  • WebSocket Server: 실시간 데이터 Push                             │    │
│  │  • Pydantic v2: 데이터 검증                                         │    │
│  │  • 다운샘플링: 틱 → 분봉 변환                                       │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  [Frontend Layer]                                                           │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  Next.js 14 (App Router)                                            │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  • UI: Shadcn UI + Tailwind CSS                                     │    │
│  │  • State: React Query (TanStack Query)                              │    │
│  │  • Chart: TradingView Lightweight Charts (Canvas)                   │    │
│  │  • Table: TanStack Table + Virtual (가상화)                         │    │
│  │  • WebSocket: 실시간 데이터 수신                                    │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. Database 최적화 상세

### 3.1 TimescaleDB 도입

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      ⚡ TIMESCALEDB HYPERTABLE                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [일반 PostgreSQL]                  [TimescaleDB Hypertable]                │
│                                                                              │
│  ┌─────────────────────┐           ┌─────────────────────┐                 │
│  │     min_prices      │           │     min_prices      │ (가상 테이블)   │
│  │  ┌───────────────┐  │           │  ┌─────┐ ┌─────┐    │                 │
│  │  │ 1억 건 데이터 │  │    →      │  │1월  │ │2월  │... │ (자동 파티션)  │
│  │  │ 단일 테이블   │  │           │  │Chunk│ │Chunk│    │                 │
│  │  └───────────────┘  │           │  └─────┘ └─────┘    │                 │
│  └─────────────────────┘           └─────────────────────┘                 │
│                                                                              │
│  쿼리: "2월 데이터 조회"                                                    │
│  • 일반: 1억 건 전체 스캔 → 10초+                                          │
│  • TimescaleDB: 2월 Chunk만 스캔 → 0.01초                                  │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 Docker 설정 변경

```yaml
# docker-compose.yml
services:
  db:
    # 기존: image: postgres:15
    # 변경: TimescaleDB 포함 이미지
    image: timescale/timescaledb:latest-pg15
    container_name: aegis_db
    environment:
      POSTGRES_USER: aegis
      POSTGRES_PASSWORD: aegis2024
      POSTGRES_DB: aegis_v2
    volumes:
      - aegis_db_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
```

### 3.3 Hypertable 변환 SQL

```sql
-- TimescaleDB 확장 활성화
CREATE EXTENSION IF NOT EXISTS timescaledb;

-- 분봉 데이터 테이블 → Hypertable 변환
SELECT create_hypertable('market_candles', 'time',
    chunk_time_interval => INTERVAL '1 day',
    if_not_exists => TRUE
);

-- 일봉 데이터 테이블 → Hypertable 변환
SELECT create_hypertable('daily_prices', 'date',
    chunk_time_interval => INTERVAL '1 month',
    if_not_exists => TRUE
);

-- 종목별 파티셔닝 추가 (선택)
SELECT add_dimension('market_candles', 'stock_code', number_partitions => 10);
```

### 3.4 자동 데이터 관리 정책

```sql
-- 90일 이상 된 분봉 데이터 자동 압축
SELECT add_compression_policy('market_candles', INTERVAL '90 days');

-- 1년 이상 된 분봉 데이터 자동 삭제 (일봉만 유지)
SELECT add_retention_policy('market_candles', INTERVAL '1 year');
```

---

## 4. Backend 최적화 상세

### 4.1 데이터 다운샘플링

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      📉 DOWNSAMPLING STRATEGY                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [문제] 1시간 차트를 그릴 때...                                             │
│                                                                              │
│  ❌ 틱 데이터 전송: 36,000개 (초당 10틱 × 3,600초)                         │
│  ✅ 1분봉 전송: 60개 (60분)                                                 │
│  ✅ 5분봉 전송: 12개 (12개 캔들)                                            │
│                                                                              │
│  [다운샘플링 로직]                                                          │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  def get_candles(stock_code, interval, start, end):                 │    │
│  │      """                                                            │    │
│  │      interval: '1m', '5m', '15m', '1h', '1d'                        │    │
│  │      """                                                            │    │
│  │      # TimescaleDB의 time_bucket 함수 사용                          │    │
│  │      query = f"""                                                   │    │
│  │          SELECT                                                     │    │
│  │              time_bucket('{interval}', time) AS bucket,             │    │
│  │              first(open, time) AS open,                             │    │
│  │              max(high) AS high,                                     │    │
│  │              min(low) AS low,                                       │    │
│  │              last(close, time) AS close,                            │    │
│  │              sum(volume) AS volume                                  │    │
│  │          FROM market_candles                                        │    │
│  │          WHERE stock_code = '{stock_code}'                          │    │
│  │            AND time BETWEEN '{start}' AND '{end}'                   │    │
│  │          GROUP BY bucket                                            │    │
│  │          ORDER BY bucket                                            │    │
│  │      """                                                            │    │
│  │      return execute(query)                                          │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 API 구조 설계

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      🔌 API ENDPOINTS                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [REST API]                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  /api/v1/                                                           │    │
│  │  ├── portfolio/           # 보유종목                                │    │
│  │  │   ├── GET /            # 전체 조회                               │    │
│  │  │   └── GET /{code}      # 개별 조회                               │    │
│  │  │                                                                  │    │
│  │  ├── trades/              # 거래내역                                │    │
│  │  │   ├── GET /            # 페이지네이션 조회                       │    │
│  │  │   └── GET /today       # 당일 거래                               │    │
│  │  │                                                                  │    │
│  │  ├── candles/             # 차트 데이터                             │    │
│  │  │   └── GET /{code}      # 다운샘플링된 캔들                       │    │
│  │  │       ?interval=5m                                               │    │
│  │  │       &start=2025-12-08T09:00                                    │    │
│  │  │       &end=2025-12-08T15:30                                      │    │
│  │  │                                                                  │    │
│  │  ├── analysis/            # AI 분석                                 │    │
│  │  │   ├── GET /picks       # 오늘 추천                               │    │
│  │  │   └── GET /reports     # AI 리포트                               │    │
│  │  │                                                                  │    │
│  │  └── system/              # 시스템                                  │    │
│  │      ├── GET /status      # 상태                                    │    │
│  │      ├── POST /trading/on # 자동매매 ON                             │    │
│  │      └── POST /trading/off# 자동매매 OFF                            │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  [WebSocket]                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ws://host/ws/                                                      │    │
│  │  ├── /realtime/{code}     # 실시간 호가/체결                        │    │
│  │  ├── /portfolio           # 포트폴리오 실시간 업데이트              │    │
│  │  └── /events              # 매수/매도 이벤트                        │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.3 서버 사이드 페이지네이션

```python
# 거래내역 페이지네이션 예시
@router.get("/trades")
async def get_trades(
    page: int = 1,
    page_size: int = 20,
    stock_code: Optional[str] = None,
    trade_type: Optional[str] = None,  # BUY / SELL
    start_date: Optional[date] = None,
    end_date: Optional[date] = None,
):
    """
    서버에서 필요한 데이터만 조회하여 반환
    프론트엔드에 전체 데이터를 보내지 않음
    """
    offset = (page - 1) * page_size

    query = select(TradeLog).order_by(TradeLog.executed_at.desc())

    if stock_code:
        query = query.where(TradeLog.stock_code == stock_code)
    if trade_type:
        query = query.where(TradeLog.trade_type == trade_type)
    if start_date:
        query = query.where(TradeLog.executed_at >= start_date)
    if end_date:
        query = query.where(TradeLog.executed_at <= end_date)

    # 총 개수 (페이지네이션 UI용)
    total = await db.scalar(select(func.count()).select_from(query.subquery()))

    # 현재 페이지 데이터만 조회
    results = await db.scalars(query.offset(offset).limit(page_size))

    return {
        "data": results.all(),
        "total": total,
        "page": page,
        "page_size": page_size,
        "total_pages": (total + page_size - 1) // page_size
    }
```

---

## 5. Frontend 최적화 상세

### 5.1 테이블 가상화 (TanStack Virtual)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      📋 TABLE VIRTUALIZATION                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [문제] 1,000개 행을 렌더링하면...                                          │
│  ❌ DOM 요소 1,000개 생성 → 브라우저 버벅                                   │
│                                                                              │
│  [해결] 가상화 (Virtualization)                                             │
│  ✅ 화면에 보이는 20개만 렌더링                                            │
│  ✅ 스크롤 시 내용만 교체 (DOM 재사용)                                      │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                         화면에 보이는 영역                          │    │
│  │  ┌───────────────────────────────────────────────────────────────┐  │    │
│  │  │ Row 1  │ 삼성전자 │ +2.3% │ 52,300 │                          │  │    │
│  │  │ Row 2  │ SK하이닉스 │ +1.5% │ 187,000 │                       │  │    │
│  │  │ Row 3  │ LG에너지 │ -0.5% │ 380,000 │                         │  │    │
│  │  │ ...    │ (실제 렌더링되는 행만)                                │  │    │
│  │  │ Row 20 │ 카카오 │ +0.8% │ 42,500 │                            │  │    │
│  │  └───────────────────────────────────────────────────────────────┘  │    │
│  │                                                                      │    │
│  │  Row 21 ~ 1000: 존재하지만 렌더링되지 않음 (가상)                   │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 차트 라이브러리 선정

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      📈 CHART LIBRARY COMPARISON                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [라이브러리 비교]                                                          │
│  ┌──────────────────┬──────────┬──────────┬──────────────────────────────┐  │
│  │     라이브러리   │  렌더링  │ 대용량   │           비고               │  │
│  ├──────────────────┼──────────┼──────────┼──────────────────────────────┤  │
│  │ Recharts         │   SVG    │    ❌    │ 데이터 많으면 느림           │  │
│  │ Chart.js         │  Canvas  │    ⚠️    │ 범용, 주식 차트엔 부적합     │  │
│  │ ApexCharts       │   SVG    │    ⚠️    │ 예쁘지만 대용량 부적합       │  │
│  │ TradingView LW   │  Canvas  │    ✅    │ ⭐ 주식 전용, 대용량 최적화  │  │
│  └──────────────────┴──────────┴──────────┴──────────────────────────────┘  │
│                                                                              │
│  [TradingView Lightweight Charts 선정 이유]                                 │
│  ├─ Canvas 렌더링: SVG보다 수만 배 빠름                                    │
│  ├─ 주식 전문: 캔들, 볼륨, 라인 차트 기본 제공                             │
│  ├─ 실시간 업데이트: 데이터 추가 시 부분 렌더링                            │
│  ├─ 가벼움: 40KB (gzip)                                                    │
│  └─ 업계 검증: 업비트, 바이낸스 등 사용                                    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 상태 관리 (React Query)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      🔄 REACT QUERY (TANSTACK QUERY)                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [기능]                                                                     │
│  ├─ 서버 데이터 캐싱                                                       │
│  ├─ 자동 백그라운드 리페치                                                 │
│  ├─ 로딩/에러 상태 관리                                                    │
│  └─ 옵티미스틱 업데이트                                                    │
│                                                                              │
│  [예시 코드]                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  // 포트폴리오 조회                                                 │    │
│  │  const { data, isLoading, error } = useQuery({                      │    │
│  │      queryKey: ['portfolio'],                                       │    │
│  │      queryFn: () => fetch('/api/v1/portfolio').then(r => r.json()), │    │
│  │      refetchInterval: 5000,  // 5초마다 자동 갱신                   │    │
│  │      staleTime: 3000,        // 3초간 캐시 사용                     │    │
│  │  });                                                                │    │
│  │                                                                     │    │
│  │  // 캔들 데이터 조회                                                │    │
│  │  const { data: candles } = useQuery({                               │    │
│  │      queryKey: ['candles', stockCode, interval],                    │    │
│  │      queryFn: () => fetchCandles(stockCode, interval),              │    │
│  │      enabled: !!stockCode,   // stockCode 있을 때만 실행            │    │
│  │  });                                                                │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. 전체 아키텍처 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      🏗️ AEGIS v3.0 FULL ARCHITECTURE                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                           FRONTEND                                    │  │
│  │  ┌─────────────────────────────────────────────────────────────────┐  │  │
│  │  │                      Next.js 14                                 │  │  │
│  │  │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │  │  │
│  │  │  │ Shadcn UI │  │ TanStack  │  │TradingView│  │  React    │   │  │  │
│  │  │  │ +Tailwind │  │  Table    │  │  Charts   │  │  Query    │   │  │  │
│  │  │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │  │  │
│  │  └─────────────────────────────────────────────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                              │ REST API │ WebSocket                         │
│                              ▼          ▼                                   │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                           BACKEND                                     │  │
│  │  ┌─────────────────────────────────────────────────────────────────┐  │  │
│  │  │                      FastAPI (Python)                           │  │  │
│  │  │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │  │  │
│  │  │  │  REST API │  │ WebSocket │  │  Brain    │  │ Scheduler │   │  │  │
│  │  │  │ Endpoints │  │  Server   │  │  Module   │  │  (APScheduler) │  │  │
│  │  │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │  │  │
│  │  │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │  │  │
│  │  │  │AutoTrader │  │  Safety   │  │ Telegram  │  │   KIS     │   │  │  │
│  │  │  │           │  │  System   │  │  Watcher  │  │  Fetcher  │   │  │  │
│  │  │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │  │  │
│  │  └─────────────────────────────────────────────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                              │ SQLAlchemy Async                             │
│                              ▼                                              │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                          DATABASE                                     │  │
│  │  ┌─────────────────────────────────────────────────────────────────┐  │  │
│  │  │              PostgreSQL 15 + TimescaleDB                        │  │  │
│  │  │  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │  │  │
│  │  │  │ market_candles │  │  daily_prices  │  │   trade_logs   │    │  │  │
│  │  │  │ (Hypertable)   │  │  (Hypertable)  │  │                │    │  │  │
│  │  │  └────────────────┘  └────────────────┘  └────────────────┘    │  │  │
│  │  │  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │  │  │
│  │  │  │   portfolio    │  │  daily_picks   │  │ trade_feedbacks│    │  │  │
│  │  │  └────────────────┘  └────────────────┘  └────────────────┘    │  │  │
│  │  └─────────────────────────────────────────────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 7. 개발 단계 (Phased Approach)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      📅 DEVELOPMENT PHASES                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [Phase 1] Database 최적화                                                  │
│  ─────────────────────────────────────────────────────────────────────────  │
│  • Docker 이미지 TimescaleDB로 교체                                         │
│  • 기존 테이블 Hypertable 변환                                              │
│  • 압축/보존 정책 설정                                                      │
│  • 기존 데이터 마이그레이션                                                 │
│                                                                              │
│  [Phase 2] Backend API 개발                                                 │
│  ─────────────────────────────────────────────────────────────────────────  │
│  • FastAPI 프로젝트 구조 설정                                               │
│  • REST API 엔드포인트 구현                                                 │
│  • 다운샘플링 로직 구현                                                     │
│  • WebSocket 서버 구현                                                      │
│  • 기존 Brain/Scheduler 통합                                                │
│                                                                              │
│  [Phase 3] Frontend 개발                                                    │
│  ─────────────────────────────────────────────────────────────────────────  │
│  • Next.js 프로젝트 설정                                                    │
│  • Shadcn UI 컴포넌트 구성                                                  │
│  • 대시보드 페이지 구현                                                     │
│  • TradingView 차트 연동                                                    │
│  • React Query 상태 관리                                                    │
│  • WebSocket 실시간 연동                                                    │
│                                                                              │
│  [Phase 4] 통합 및 테스트                                                   │
│  ─────────────────────────────────────────────────────────────────────────  │
│  • 전체 시스템 통합                                                         │
│  • 성능 테스트 (대용량 데이터)                                              │
│  • 기존 Streamlit 대시보드 병행 운영                                        │
│  • 점진적 전환                                                              │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 8. 기존 시스템과 병행 운영

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                      🔄 MIGRATION STRATEGY                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  [단계별 전환]                                                              │
│                                                                              │
│  Step 1: Backend 공유                                                       │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                                                                      │    │
│  │  ┌───────────────┐                                                  │    │
│  │  │   Streamlit   │ ─────┐                                           │    │
│  │  │   (기존 UI)   │      │                                           │    │
│  │  └───────────────┘      │                                           │    │
│  │                         ├──► ┌───────────────┐    ┌─────────────┐   │    │
│  │  ┌───────────────┐      │    │    FastAPI    │───►│  Database   │   │    │
│  │  │    Next.js    │ ─────┘    │   (Backend)   │    │ (TimescaleDB)   │    │
│  │  │   (새 UI)     │           └───────────────┘    └─────────────┘   │    │
│  │  └───────────────┘                                                  │    │
│  │                                                                      │    │
│  │  • 두 UI가 같은 Backend 사용                                        │    │
│  │  • 기능 검증 후 Streamlit 제거                                      │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│  Step 2: 완전 전환                                                          │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                                                                      │    │
│  │  ┌───────────────┐    ┌───────────────┐    ┌─────────────┐          │    │
│  │  │    Next.js    │───►│    FastAPI    │───►│  Database   │          │    │
│  │  │   (메인 UI)   │    │   (Backend)   │    │ (TimescaleDB)│         │    │
│  │  └───────────────┘    └───────────────┘    └─────────────┘          │    │
│  │                                                                      │    │
│  │  • Streamlit 제거                                                   │    │
│  │  • Next.js 단독 운영                                                │    │
│  │                                                                      │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 9. 성능 목표

| 지표 | 현재 (Streamlit) | 목표 (v3.0) |
|------|-----------------|-------------|
| 페이지 로딩 | 3-5초 | < 1초 |
| 차트 렌더링 (1만 캔들) | 버벅거림 | 즉시 |
| 테이블 스크롤 (1천 행) | 렉 발생 | 부드러움 |
| 실시간 업데이트 | 폴링 (5초) | WebSocket (즉시) |
| 동시 접속 | 1명 | 10명+ |

---

*Document maintained by AEGIS Development Team*
